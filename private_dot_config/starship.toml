# General Starship options

# Don't print a new line at the start of the prompt
add_newline = false

# Nor in the middle!
[line_break]
disabled = false

[jobs]
disabled = false

[shell]
disabled = true

# Use as prompt symbol a combination which creates a nice ligature in Fira Code
[character]
success_symbol = "[|>](green)"

# Show previous command duration if longer than 10 seconds
[cmd_duration]
min_time = 10000
format = "[‚è± $duration]($style)"

# Truncate directories to one letter
[directory]
truncation_length = 1
truncate_to_repo = false
fish_style_pwd_dir_length = 1
home_symbol = '~ üè†'

# [directory.substitutions]
# "~/Dropbox/Personal/devel/github.com/" = "ÔÇõ github.com/"
# "~/Dropbox/Personal/devel/gitlab.com/" = "Ôäñ gitlab.com/"

# Git branch - replace 'on ' with branch in brackets
[git_branch]
format = '\[[$symbol$branch]($style)\]'

# Git status - configure symbols to my liking
[git_status]
format = '([\[$all_status$ahead_behind\]]($style))'
style = ''
stashed = '\$'
ahead = "[‚¨Ü${count}](red)"
behind = "[‚¨á${count}](red)"
diverged = '[‚¨ç](red)'
conflicted = '[‚â†](red)'
deleted = '[‚úò](red)'
renamed = '[¬ª](green)'
modified = "[‚óè](yellow bold)"
staged = "[‚úî](green)"
untracked = '[+](red)'
disabled = false

# Enable shlvl since I sometimes use subshells to test Elvish configurations,
# it's good to know when I'm in a subshell
[shlvl]
disabled = false

# Elvish custom module
[custom.elvish]
description = 'The currently installed version of Elvish'
command = "elvish -version | sed 's/dev\\..*$/dev/'"
# Use this command if you want to include the git commit hash in dev versions
#command = "elvish -version | sed 's/dev\\.\\(.......\\).*$/dev.\\1/'"
extensions = [ 'elv' ]
symbol = 'üßù‚Äç‚ôÇÔ∏è '
shell = [ 'bash' ]
format = '\[[$symbol($output)]($style)\]'
style = 'green'

# Sample module which shows a simplified git status - a single symbol to
# indicate when there are any pending changes.
[custom.git_status_simplified]
description = 'Single-symbol git status'
when = 'test -n "$(git status --porcelain)"'
symbol = '‚óè'
style = 'yellow bold'
format = '\[[$symbol]($style)\]'
shell = [ 'bash' ]
disabled = true

[custom.git_remote_url]
description = 'Remote git repository'
when = 'git rev-parse --is-inside-work-tree'
command = """
GIT_REMOTE=$(command git ls-remote --get-url 2> /dev/null)
GIT_REMOTE_URL=$(echo $GIT_REMOTE | sed -E 's/^https?:\\/\\/(.+@)?//; s/\\.git$//; s/.+@(.*):(.*)$/\\1\\/\\2/; s/\\/$//')
if [[ "$GIT_REMOTE" =~ "github" ]]; then
    GIT_REMOTE_SYMBOL="Ôêà "
elif [[ "$GIT_REMOTE" =~ "gitlab" ]]; then
    GIT_REMOTE_SYMBOL="Ôäñ "
elif [[ "$GIT_REMOTE" =~ "bitbucket" ]]; then
    GIT_REMOTE_SYMBOL="ÔÖ± "
elif [[ -n "$GIT_REMOTE" ]]; then
    GIT_REMOTE_SYMBOL="Ôû° "
else
    GIT_REMOTE_SYMBOL="Ôáí "
fi
echo "$GIT_REMOTE_SYMBOL$GIT_REMOTE_URL"
"""
# Default format is according to the segmented-brackets preset (https://github.com/starship/starship/pull/2747)
format = '\[[$output]($style)\]'
# If you prefer the default Starship style, use the following
# format = "at [$output]($style)"
shell = ["bash", "--noprofile", "--norc"]
style = 'blue'

[custom.home]
description = 'Show icon on home dir'
when = 'test "$PWD" == "$HOME"'
shell = [ 'bash' ]
symbol = 'üè†'
format = '$symbol'
disabled = true

# Language-specific modules, mainly change the format since I don't like the
# default 'via ' used by Starship, I prefer the information in brackets

[aws]
format = '\[[$symbol($profile)(\($region\))(\[$duration\])]($style)\]'
disabled = true

[cmake]
format = '\[[$symbol($version)]($style)\]'

[conda]
format = '\[[$symbol$environment]($style)\]'
ignore_base = false

[crystal]
format = '\[[$symbol($version)]($style)\]'

[dart]
format = '\[[$symbol($version)]($style)\]'

[deno]
format = '\[[$symbol($version)]($style)\]'

[docker_context]
format = '\[[$symbol$context]($style)\]'

[dotnet]
format = '\[[$symbol($version)(üéØ $tfm)]($style)\]'

[elixir]
format = '\[[$symbol($version \(OTP $otp_version\))]($style)\]'

[elm]
format = '\[[$symbol($version)]($style)\]'

[erlang]
format = '\[[$symbol($version)]($style)\]'

[gcloud]
format = '\[[$symbol$account(@$domain)(\($region\))]($style)\]'

[golang]
format = '\[[$symbol($version)]($style)\]'

[helm]
format = '\[[$symbol($version)]($style)\]'

[hg_branch]
format = '\[[$symbol$branch]($style)\]'

[java]
format = '\[[$symbol($version)]($style)\]'

[julia]
format = '\[[$symbol($version)]($style)\]'

[kotlin]
format = '\[[$symbol($version)]($style)\]'

[kubernetes]
format = '\[[$symbol$context( \($namespace\))]($style)\]'

[lua]
format = '\[[$symbol($version)]($style)\]'

[memory_usage]
format = '\[$symbol[$ram( | $swap)]($style)\]'
disabled = true

[nim]
format = '\[[$symbol($version)]($style)\]'

[nix_shell]
format = '\[[$symbol$state( \($name\))]($style)\]'

[nodejs]
format = '\[[$symbol($version)]($style)\]'

[ocaml]
format = '\[[$symbol($version)(\($switch_indicator$switch_name\))]($style)\]'

[openstack]
format = '\[[$symbol$cloud(\($project\))]($style)\]'

[package]
format = '\[[$symbol$version]($style)\]'

[perl]
format = '\[[$symbol($version)]($style)\]'

[php]
format = '\[[$symbol($version)]($style)\]'

[purescript]
format = '\[[$symbol($version)]($style)\]'

[python]
format = '\[[${symbol}${pyenv_prefix}(${version})(\($virtualenv\))]($style)\]'

[red]
format = '\[[$symbol($version)]($style)\]'

[ruby]
format = '\[[$symbol($version)]($style)\]'

[rust]
format = '\[[$symbol($version)]($style)\]'

[scala]
format = '\[[$symbol($version)]($style)\]'

[swift]
format = '\[[$symbol($version)]($style)\]'

[terraform]
format = '\[[$symbol$workspace]($style)\]'

[time]
format = '\[[$time]($style)\]'

[username]
format = '\[[$user]($style)\]'

[vagrant]
format = '\[[$symbol($version)]($style)\]'
symbol = '‚ç±'

[vlang]
format = '\[[$symbol($version)]($style)\]'

[zig]
format = '\[[$symbol($version)]($style)\]'

